import { createClient } from '@supabase/supabase-js'
import { config } from 'dotenv'

// ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã¿
config({ path: '.env.local' })

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL
const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY

if (!supabaseUrl || !supabaseServiceKey) {
  console.error('ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“')
  process.exit(1)
}

const supabase = createClient(supabaseUrl, supabaseServiceKey)

async function addImagesAndPricing() {
  console.log('ğŸ“¸ æ•™å®¤ã®ç”»åƒã¨æ–™é‡‘æƒ…å ±ã‚’è¿½åŠ ä¸­...\n')

  try {
    // ã™ã¹ã¦ã®å…¬é–‹æ¸ˆã¿æ•™å®¤ã‚’å–å¾—
    const { data: classrooms, error: fetchError } = await supabase
      .from('classrooms')
      .select('*')
      .eq('status', 'published')

    if (fetchError) {
      console.error('æ•™å®¤ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:', fetchError)
      return
    }

    // ç”»åƒã¨æ–™é‡‘ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
    const imageAndPricingData = [
      {
        // ABEãƒ”ã‚¢ãƒã‚¢ã‚«ãƒ‡ãƒŸãƒ¼
        email: 'test@piano-navi.com',
        data: {
          images: [
            'https://images.unsplash.com/photo-1520523839897-bd0b52f945a0?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1507838153414-b4b713384a76?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=800&h=600&fit=crop&crop=center'
          ],
          tuition_info: 'ã€æœˆè¬åˆ¶ãƒ¬ãƒƒã‚¹ãƒ³æ–™é‡‘ã€‘\\n\\nâ–  å¹¼å…ã‚³ãƒ¼ã‚¹ï¼ˆ3æ­³ã€œ6æ­³ï¼‰\\nãƒ»æœˆ3å› 30åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š8,000å††\\nãƒ»æœˆ4å› 30åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š10,000å††\\n\\nâ–  å°å­¦ç”Ÿã‚³ãƒ¼ã‚¹\\nãƒ»æœˆ3å› 45åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š10,000å††\\nãƒ»æœˆ4å› 45åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š12,000å††\\n\\nâ–  ä¸­å­¦ç”Ÿãƒ»é«˜æ ¡ç”Ÿã‚³ãƒ¼ã‚¹\\nãƒ»æœˆ3å› 45åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š12,000å††\\nãƒ»æœˆ4å› 45åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š15,000å††\\n\\nâ–  å¤§äººã‚³ãƒ¼ã‚¹\\nãƒ»æœˆ2å› 60åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š12,000å††\\nãƒ»æœˆ3å› 60åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š16,000å††\\n\\nâ–  éŸ³å¤§å—é¨“ã‚³ãƒ¼ã‚¹\\nãƒ»æœˆ4å› 60åˆ†ãƒ¬ãƒƒã‚¹ãƒ³ï¼š20,000å††\\n\\nã€ãã®ä»–è²»ç”¨ã€‘\\nãƒ»å…¥ä¼šé‡‘ï¼š5,000å††ï¼ˆã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ä¸­ã¯ç„¡æ–™ï¼‰\\nãƒ»æ•™æè²»ï¼šå®Ÿè²»ï¼ˆ1,500å††ã€œ3,000å††ç¨‹åº¦ï¼‰\\nãƒ»ç™ºè¡¨ä¼šå‚åŠ è²»ï¼š8,000å††ï¼ˆå¹´1å›ãƒ»ä»»æ„å‚åŠ ï¼‰',
          trial_lesson_info: 'ğŸµ ç„¡æ–™ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³å®Ÿæ–½ä¸­ï¼\\n\\nã€ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³å†…å®¹ã€‘\\nãƒ»30åˆ†ã®å€‹äººãƒ¬ãƒƒã‚¹ãƒ³\\nãƒ»ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«ãƒã‚§ãƒƒã‚¯\\nãƒ»ç›®æ¨™ã«åˆã‚ã›ãŸæŒ‡å°ãƒ—ãƒ©ãƒ³ææ¡ˆ\\nãƒ»æ•™å®¤ãƒ»è¨­å‚™ã®ã”æ¡ˆå†…\\nãƒ»æ–™é‡‘ã‚·ã‚¹ãƒ†ãƒ ã®ã”èª¬æ˜\\n\\nã€ãŠç”³ã—è¾¼ã¿æ–¹æ³•ã€‘\\nğŸ“ é›»è©±ï¼š03-3456-7890\\nğŸ“§ ãƒ¡ãƒ¼ãƒ«ï¼štest@piano-navi.com\\nğŸŒ ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆï¼šhttps://abe-piano-academy.com\\n\\nã€ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³å¯èƒ½æ™‚é–“ã€‘\\næœˆã€œåœŸï¼š10:00ã€œ19:00ï¼ˆè¦äºˆç´„ï¼‰\\n\\nâ€»ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³å¾Œã®å…¥ä¼šã¯ä»»æ„ã§ã™\\nâ€»ã—ã¤ã“ã„å‹§èª˜ã¯ä¸€åˆ‡ã„ãŸã—ã¾ã›ã‚“'
        }
      },
      {
        // ã•ãã‚‰ãƒ”ã‚¢ãƒæ•™å®¤
        email: 'info@sakura-piano.com',
        data: {
          images: [
            'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1571974599782-87624638275e?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1556075798-4825dfaaf498?w=800&h=600&fit=crop&crop=center'
          ],
          tuition_info: 'ã€æœˆè¬æ–™é‡‘ã€‘\\n\\nâ–  å­ã©ã‚‚ã‚³ãƒ¼ã‚¹\\nãƒ»å¹¼å…ï¼ˆ3æ­³ã€œ6æ­³ï¼‰ï¼šæœˆ3å› 30åˆ† 7,000å††\\nãƒ»å°å­¦ç”Ÿï¼šæœˆ3å› 45åˆ† 8,500å††\\nãƒ»ä¸­é«˜ç”Ÿï¼šæœˆ3å› 45åˆ† 9,500å††\\n\\nâ–  å¤§äººã‚³ãƒ¼ã‚¹\\nãƒ»åˆå¿ƒè€…ï¼šæœˆ2å› 45åˆ† 8,000å††\\nãƒ»çµŒé¨“è€…ï¼šæœˆ3å› 45åˆ† 11,000å††\\nãƒ»ãƒ¯ãƒ³ãƒ¬ãƒƒã‚¹ãƒ³åˆ¶ï¼š1å› 60åˆ† 4,000å††\\n\\nâ–  ã‚·ãƒ‹ã‚¢ã‚³ãƒ¼ã‚¹ï¼ˆ60æ­³ä»¥ä¸Šï¼‰\\nãƒ»æœˆ2å› 45åˆ†ï¼š7,000å††\\nãƒ»æœˆ3å› 45åˆ†ï¼š9,500å††\\n\\nã€ãã®ä»–ã€‘\\nãƒ»å…¥ä¼šé‡‘ï¼š3,000å††\\nãƒ»æ•™æè²»ï¼šåˆ¥é€”å®Ÿè²»\\nãƒ»ç™ºè¡¨ä¼šè²»ï¼š5,000å††ï¼ˆå¹´1å›ï¼‰\\n\\nâ€»å®¶æ—å‰²å¼•ï¼š2äººç›®ä»¥é™æœˆè¬500å††å¼•ã\\nâ€»æŒ¯æ›¿ãƒ¬ãƒƒã‚¹ãƒ³ç„¡æ–™ï¼ˆå½“æ—¥é€£çµ¡OKï¼‰',
          trial_lesson_info: 'ğŸŒ¸ ç„¡æ–™ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³éšæ™‚å—ä»˜ä¸­ï¼\\n\\nã€ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³ã®æµã‚Œã€‘\\n1. ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆ5åˆ†ï¼‰\\n2. å®Ÿéš›ã®ãƒ¬ãƒƒã‚¹ãƒ³ï¼ˆ20åˆ†ï¼‰\\n3. è³ªç–‘å¿œç­”ãƒ»ç›¸è«‡ï¼ˆ5åˆ†ï¼‰\\n\\nã€æŒã¡ç‰©ã€‘\\nç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ï¼æ‰‹ã¶ã‚‰ã§ãŠè¶Šã—ãã ã•ã„\\n\\nã€äºˆç´„æ–¹æ³•ã€‘\\nğŸ“ 03-5468-1234\\nğŸ“§ info@sakura-piano.com\\n\\nã€ä½“é¨“å¯èƒ½æ™‚é–“ã€‘\\næœˆãƒ»æ°´ãƒ»æœ¨ãƒ»é‡‘ï¼š15:00ã€œ20:00\\nåœŸï¼š9:00ã€œ15:00\\n\\nâ€»ãŠå­æ§˜é€£ã‚ŒOKï¼\\nâ€»é§è»Šå ´ç„¡æ–™åˆ©ç”¨å¯èƒ½'
        }
      },
      {
        // ã²ã¾ã‚ã‚ŠéŸ³æ¥½æ•™å®¤
        email: 'contact@himawari-music.com',
        data: {
          images: [
            'https://images.unsplash.com/photo-1564186763535-ebb21ef5277f?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1612225330812-01a9c6b355ec?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1520523839897-bd0b52f945a0?w=800&h=600&fit=crop&crop=center'
          ],
          tuition_info: 'ã€ãƒ”ã‚¢ãƒã‚³ãƒ¼ã‚¹æ–™é‡‘ã€‘\\n\\nâ–  å€‹äººãƒ¬ãƒƒã‚¹ãƒ³\\nãƒ»å¹¼å…ï¼ˆ2æ­³ã€œ6æ­³ï¼‰ï¼šæœˆ3å› 30åˆ† 9,000å††\\nãƒ»å°å­¦ç”Ÿï¼šæœˆ4å› 45åˆ† 12,000å††\\nãƒ»ä¸­å­¦ç”Ÿï¼šæœˆ4å› 45åˆ† 13,000å††\\nãƒ»é«˜æ ¡ç”Ÿï¼šæœˆ4å› 60åˆ† 15,000å††\\nãƒ»å¤§äººï¼šæœˆ3å› 60åˆ† 14,000å††\\n\\nâ–  ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¬ãƒƒã‚¹ãƒ³ï¼ˆ2ã€œ3åï¼‰\\nãƒ»å¹¼å…ï¼šæœˆ3å› 45åˆ† 6,000å††/äºº\\nãƒ»å°å­¦ç”Ÿï¼šæœˆ4å› 60åˆ† 8,000å††/äºº\\n\\nâ–  å°‚é–€ã‚³ãƒ¼ã‚¹\\nãƒ»éŸ³å¤§å—é¨“ï¼šæœˆ4å› 90åˆ† 25,000å††\\nãƒ»ã‚³ãƒ³ã‚¯ãƒ¼ãƒ«å¯¾ç­–ï¼šæœˆ4å› 60åˆ† 18,000å††\\n\\nâ–  ãã®ä»–ã‚³ãƒ¼ã‚¹\\nãƒ»ãƒªãƒˆãƒŸãƒƒã‚¯ï¼šæœˆ3å› 45åˆ† 7,000å††\\nãƒ»ã‚½ãƒ«ãƒ•ã‚§ãƒ¼ã‚¸ãƒ¥ï¼šæœˆ2å› 60åˆ† 8,000å††\\n\\nã€è«¸è²»ç”¨ã€‘\\nãƒ»å…¥ä¼šé‡‘ï¼š8,000å††\\nãƒ»è¨­å‚™è²»ï¼šæœˆé¡1,000å††\\nãƒ»ç™ºè¡¨ä¼šè²»ï¼š10,000å††ï¼ˆå¹´2å›ï¼‰',
          trial_lesson_info: 'ğŸŒ» ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³å®Ÿæ–½ä¸­ï¼\\n\\nã€ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³æ–™ã€‘\\nãƒ»å€‹äººãƒ¬ãƒƒã‚¹ãƒ³ï¼š1,000å††ï¼ˆ30åˆ†ï¼‰\\nãƒ»ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¬ãƒƒã‚¹ãƒ³ï¼š500å††ï¼ˆ45åˆ†ï¼‰\\nâ€»å…¥ä¼šæ™‚ã«å…¨é¡ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯\\n\\nã€ä½“é¨“å†…å®¹ã€‘\\nãƒ»ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«ç¢ºèª\\nãƒ»ç›®æ¨™è¨­å®šã¨ãƒ—ãƒ©ãƒ³ææ¡ˆ\\nãƒ»å®Ÿéš›ã®ãƒ¬ãƒƒã‚¹ãƒ³ä½“é¨“\\nãƒ»æ•™å®¤è¦‹å­¦\\n\\nã€äºˆç´„ãƒ»ãŠå•ã„åˆã‚ã›ã€‘\\nğŸ“ 06-6241-5678\\nğŸ“§ contact@himawari-music.com\\n\\nã€ä½“é¨“å¯èƒ½æ—¥æ™‚ã€‘\\nç«ã€œé‡‘ï¼š14:00ã€œ19:00\\nåœŸæ—¥ï¼š9:00ã€œ17:00\\n\\nã€ç‰¹å…¸ã€‘\\nãƒ»å…„å¼Ÿå§‰å¦¹ã§ã®ä½“é¨“ã¯2äººç›®ä»¥é™ç„¡æ–™\\nãƒ»å½“æ—¥å…¥ä¼šã§å…¥ä¼šé‡‘åŠé¡'
        }
      },
      {
        // ã‚³ã‚¹ãƒ¢ã‚¹ãƒ”ã‚¢ãƒã‚¹ã‚¯ãƒ¼ãƒ«
        email: 'info@cosmos-piano.jp',
        data: {
          images: [
            'https://images.unsplash.com/photo-1582142306909-195724d6b4d7?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1507838153414-b4b713384a76?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1616628188540-57b8970c4c64?w=800&h=600&fit=crop&crop=center'
          ],
          tuition_info: 'ã€ãƒ¬ãƒƒã‚¹ãƒ³æ–™é‡‘ã€‘\\n\\nâ–  ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãƒ”ã‚¢ãƒ\\nãƒ»å¹¼å…ï¼ˆ4æ­³ã€œ6æ­³ï¼‰ï¼šæœˆ3å› 30åˆ† 8,500å††\\nãƒ»å°å­¦ç”Ÿï¼šæœˆ3å› 45åˆ† 10,000å††\\nãƒ»ä¸­é«˜ç”Ÿï¼šæœˆ3å› 45åˆ† 11,500å††\\nãƒ»å¤§äººï¼šæœˆ2å› 60åˆ† 10,000å††\\nãƒ»å¤§äººï¼šæœˆ3å› 60åˆ† 14,000å††\\n\\nâ–  ã‚¸ãƒ£ã‚ºãƒ”ã‚¢ãƒ\\nãƒ»åˆç´šï¼šæœˆ2å› 60åˆ† 12,000å††\\nãƒ»ä¸­ç´šï¼šæœˆ3å› 60åˆ† 16,000å††\\nãƒ»ä¸Šç´šï¼šæœˆ3å› 60åˆ† 18,000å††\\n\\nâ–  ãƒãƒ”ãƒ¥ãƒ©ãƒ¼ãƒ”ã‚¢ãƒ\\nãƒ»æœˆ2å› 60åˆ†ï¼š9,000å††\\nãƒ»æœˆ3å› 60åˆ†ï¼š12,500å††\\n\\nâ–  ã‚·ãƒ‹ã‚¢ã‚³ãƒ¼ã‚¹ï¼ˆ65æ­³ä»¥ä¸Šï¼‰\\nãƒ»æœˆ2å› 45åˆ†ï¼š7,500å††\\nãƒ»æœˆ3å› 45åˆ†ï¼š10,000å††\\n\\nã€ãã®ä»–ã€‘\\nãƒ»å…¥ä¼šé‡‘ï¼š5,000å††\\nãƒ»æ•™æè²»ï¼šå®Ÿè²»\\nãƒ»ãƒŸãƒ‹ã‚³ãƒ³ã‚µãƒ¼ãƒˆå‚åŠ è²»ï¼š2,000å††ï¼ˆæœˆ1å›ãƒ»ä»»æ„ï¼‰',
          trial_lesson_info: 'ğŸŒ¼ ç„¡æ–™ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³ï¼†æ•™å®¤è¦‹å­¦ï¼\\n\\nã€ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³å†…å®¹ã€‘\\nãƒ»ãŠä¸€äººãŠä¸€äººã«åˆã‚ã›ãŸ45åˆ†ã®ãƒ¬ãƒƒã‚¹ãƒ³\\nãƒ»ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠå¯ï¼ˆã‚¯ãƒ©ã‚·ãƒƒã‚¯ãƒ»ã‚¸ãƒ£ã‚ºãƒ»ãƒãƒ”ãƒ¥ãƒ©ãƒ¼ï¼‰\\nãƒ»æ¥½è­œã®èª­ã¿æ–¹ã‹ã‚‰å®Ÿè·µã¾ã§\\nãƒ»ä»Šå¾Œã®å­¦ç¿’ãƒ—ãƒ©ãƒ³ã”ææ¡ˆ\\n\\nã€è¦‹å­¦ãƒ„ã‚¢ãƒ¼ã€‘\\nãƒ»é˜²éŸ³ãƒ¬ãƒƒã‚¹ãƒ³å®¤è¦‹å­¦\\nãƒ»æ¥½å™¨ã®èª¬æ˜\\nãƒ»é§è»Šå ´ã®ã”æ¡ˆå†…\\n\\nã€ãŠç”³ã—è¾¼ã¿ã€‘\\nğŸ“ 045-321-9876\\nğŸ“§ info@cosmos-piano.jp\\n\\nã€ä½“é¨“å¯èƒ½æ™‚é–“ã€‘\\næœˆãƒ»ç«ãƒ»æœ¨ãƒ»é‡‘ï¼š13:00ã€œ19:00\\nåœŸï¼š9:00ã€œ15:00\\n\\nã€ç‰¹å…¸ã€‘\\nãƒ»ä½“é¨“å½“æ—¥å…¥ä¼šã§å…¥ä¼šé‡‘åŠé¡\\nãƒ»æ¥½å™¨è³¼å…¥ç›¸è«‡ç„¡æ–™'
        }
      },
      {
        // ã“ãã¾ãƒªãƒˆãƒŸãƒƒã‚¯ãƒ«ãƒ¼ãƒ 
        email: 'koguma@ritmic-room.kyoto',
        data: {
          images: [
            'https://images.unsplash.com/photo-1503454537195-1dcabb73ffb9?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1612825173171-9b6eae4ba3f3?w=800&h=600&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?w=800&h=600&fit=crop&crop=center'
          ],
          tuition_info: 'ã€ã‚³ãƒ¼ã‚¹åˆ¥æ–™é‡‘ã€‘\\n\\nâ–  è¦ªå­ãƒªãƒˆãƒŸãƒƒã‚¯ï¼ˆ0æ­³ã€œ3æ­³ï¼‰\\nãƒ»æœˆ3å› 45åˆ†ï¼š6,000å††\\nãƒ»1å›åˆ¸ï¼š2,500å††\\nâ€»ä¿è­·è€…1å+ãŠå­æ§˜1åã®æ–™é‡‘\\nâ€»å…„å¼Ÿå§‰å¦¹è¿½åŠ ï¼š+500å††/äºº\\n\\nâ–  å¹¼å…ãƒªãƒˆãƒŸãƒƒã‚¯ï¼ˆ3æ­³ã€œ6æ­³ï¼‰\\nãƒ»æœˆ3å› 45åˆ†ï¼š7,000å††\\nãƒ»æœˆ4å› 45åˆ†ï¼š8,500å††\\n\\nâ–  å°å­¦ç”Ÿãƒ”ã‚¢ãƒï¼ˆãƒªãƒˆãƒŸãƒƒã‚¯+ãƒ”ã‚¢ãƒï¼‰\\nãƒ»æœˆ3å› 45åˆ†ï¼š8,500å††\\nãƒ»æœˆ4å› 45åˆ†ï¼š10,000å††\\n\\nâ–  å˜ç™ºãƒ¬ãƒƒã‚¹ãƒ³\\nãƒ»ãƒªãƒˆãƒŸãƒƒã‚¯ï¼š1å› 2,000å††\\nãƒ»ãƒ”ã‚¢ãƒï¼š1å› 2,500å††\\n\\nã€ãã®ä»–è²»ç”¨ã€‘\\nãƒ»å…¥ä¼šé‡‘ï¼š3,000å††ï¼ˆå®¶æ—2äººç›®ä»¥é™ç„¡æ–™ï¼‰\\nãƒ»æ•™æè²»ï¼šå¹´é–“2,000å††\\nãƒ»æ¥½å™¨ãƒ¬ãƒ³ã‚¿ãƒ«ä»£ï¼šæœˆ500å††ï¼ˆå¸Œæœ›è€…ã®ã¿ï¼‰\\n\\nâ€»è¦‹å­¦ç„¡æ–™ãƒ»é€”ä¸­å…¥ä¼šå¯ãƒ»ä¼‘ä¼šåˆ¶åº¦ã‚ã‚Š',
          trial_lesson_info: 'ğŸ» ç„¡æ–™ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³ï¼†è¦‹å­¦ä¼šé–‹å‚¬ä¸­ï¼\\n\\nã€ä½“é¨“å†…å®¹ã€‘\\nãƒ»ãƒªãƒˆãƒŸãƒƒã‚¯æ´»å‹•ä½“é¨“ï¼ˆ20åˆ†ï¼‰\\nãƒ»æ¥½å™¨éŠã³ä½“é¨“ï¼ˆ10åˆ†ï¼‰\\nãƒ»è³ªç–‘å¿œç­”ãƒ»ç›¸è«‡ã‚¿ã‚¤ãƒ ï¼ˆ10åˆ†ï¼‰\\n\\nã€è¦‹å­¦ä¼šã€‘\\nãƒ»å®Ÿéš›ã®ãƒ¬ãƒƒã‚¹ãƒ³è¦‹å­¦\\nãƒ»ãŠå­æ§˜ã®æ§˜å­è¦³å¯Ÿ\\nãƒ»ä¿è­·è€…æ§˜ã®ã”è³ªå•ã«ãŠç­”ãˆ\\n\\nã€é–‹å‚¬æ—¥æ™‚ã€‘\\næ¯é€±åœŸæ›œæ—¥ 13:00ã€œ14:00\\nâ€»å¹³æ—¥å¸Œæœ›ã®æ–¹ã¯ã”ç›¸è«‡ãã ã•ã„\\n\\nã€äºˆç´„ãƒ»ãŠå•ã„åˆã‚ã›ã€‘\\nğŸ“ 075-781-2345\\nğŸ“§ koguma@ritmic-room.kyoto\\n\\nã€æŒã¡ç‰©ã€‘\\nãƒ»å‹•ãã‚„ã™ã„æœè£…\\nãƒ»æ°´åˆ†è£œçµ¦ç”¨é£²ã¿ç‰©\\nãƒ»ä¸Šå±¥ãï¼ˆå¤§äººãƒ»å­ä¾›ã¨ã‚‚ï¼‰\\n\\nã€ç‰¹å…¸ã€‘\\nãƒ»å½“æ—¥å…¥ä¼šã§å…¥ä¼šé‡‘åŠé¡\\nãƒ»ãŠå‹é”ç´¹ä»‹å‰²å¼•ã‚ã‚Š'
        }
      }
    ]

    // å„æ•™å®¤ã®ç”»åƒã¨æ–™é‡‘æƒ…å ±ã‚’æ›´æ–°
    for (const imageData of imageAndPricingData) {
      // å¯¾è±¡æ•™å®¤ã‚’è¦‹ã¤ã‘ã‚‹
      const targetClassroom = classrooms.find(c => c.email === imageData.email)
      if (!targetClassroom) {
        console.log(`âš ï¸ ${imageData.email} ã®æ•™å®¤ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`)
        continue
      }

      // ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
      const { error: updateError } = await supabase
        .from('classrooms')
        .update(imageData.data)
        .eq('id', targetClassroom.id)

      if (updateError) {
        console.error(`âŒ ${targetClassroom.name}ã®ç”»åƒãƒ»æ–™é‡‘æ›´æ–°ã‚¨ãƒ©ãƒ¼:`, updateError)
      } else {
        console.log(`âœ… ${targetClassroom.name} ç”»åƒãƒ»æ–™é‡‘æƒ…å ±æ›´æ–°å®Œäº†`)
      }
    }

    console.log('\nğŸ‰ ã™ã¹ã¦ã®æ•™å®¤ã®ç”»åƒãƒ»æ–™é‡‘æƒ…å ±è¿½åŠ å®Œäº†ï¼')
    console.log('=====================================')
    console.log('ğŸ“¸ å„æ•™å®¤ã«3æšãšã¤ã®ç”»åƒã‚’è¨­å®š')
    console.log('ğŸ’° è©³ç´°ãªæ–™é‡‘ä½“ç³»ã‚’è¨­å®š')
    console.log('ğŸ¯ ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³æƒ…å ±ã‚’è©³ç´°è¨­å®š')
    console.log('=====================================')

    // æœ€çµ‚ç¢ºèª
    const { data: finalClassrooms, error: finalError } = await supabase
      .from('classrooms')
      .select('name, images, tuition_info, trial_lesson_info')
      .eq('status', 'published')

    if (!finalError) {
      console.log('\nğŸ“Š æœ€çµ‚ãƒ‡ãƒ¼ã‚¿ç¢ºèª:')
      finalClassrooms.forEach((classroom, index) => {
        console.log(`${index + 1}. ${classroom.name}`)
        console.log(`   ç”»åƒ: ${classroom.images ? classroom.images.length : 0}æš`)
        console.log(`   æ–™é‡‘æƒ…å ±: ${classroom.tuition_info ? 'è¨­å®šæ¸ˆã¿' : 'æœªè¨­å®š'}`)
        console.log(`   ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³: ${classroom.trial_lesson_info ? 'è¨­å®šæ¸ˆã¿' : 'æœªè¨­å®š'}`)
      })
    }

  } catch (error) {
    console.error('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', error)
  }
}

addImagesAndPricing() 